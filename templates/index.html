<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check Äáº¡o VÄƒn</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
        <p>Äang quÃ©t dá»¯ liá»‡u trÃªn toÃ n bá»™ Internet...</p>
        <p style="font-size: 14px; color: #666;">(Vui lÃ²ng chá» khoáº£ng 5-15 giÃ¢y)</p>
    </div>

    <div class="main-wrapper">
        <h1>CÃ´ng Cá»¥ Kiá»ƒm Tra Äáº¡o VÄƒn</h1>

        <form method="POST" enctype="multipart/form-data" id="uploadForm">
            <div class="box">
                <h3>Táº£i bÃ i lÃ m cá»§a báº¡n lÃªn (Word/PDF):</h3>
                <input type="file" name="file1" required accept=".docx, .pdf, .txt">
                
                <div class="text-box-container">
                    {% if highlighted_content %}
                        {{ highlighted_content | safe }}
                    {% else %}
                        {{ t1 if t1 else 'Ná»™i dung file sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y sau khi táº£i lÃªn...' }}
                    {% endif %}
                </div>
            </div>
            
            <div class="button-area">
                <button type="submit">Check Äáº¡o VÄƒn</button>
            </div>
        </form>

        {% if sources %}
        <div class="result-section">
            <div class="status-header status-danger">
                <h2 style="margin: 0;">PhÃ¡t hiá»‡n trÃ¹ng láº·p tá»« {{ sources|length }} nguá»“n:</h2>
            </div>
            <p style="margin-bottom: 20px;">CÃ¡c Ä‘oáº¡n vÄƒn bá»‹ trÃ¹ng Ä‘Ã£ Ä‘Æ°á»£c <strong>bÃ´i vÃ ng</strong> á»Ÿ vÄƒn báº£n phÃ­a trÃªn.</p>
            
            <ul class="source-list">
                {% for item in sources %}
                <li class="source-item">
                    <a href="{{ item.link }}" target="_blank" class="source-title">{{ item.title }}</a>
                    <span class="source-link">ğŸ”— {{ item.link }}</span>
                    <div class="match-snippet">
                        "{{ item.match_text }}"
                    </div>
                </li>
                {% endfor %}
            </ul>
        </div>
        {% elif t1 and not sources %}
            <div class="result-section">
                 <div class="status-header status-safe">
                    <h2 style="margin: 0;">Tuyá»‡t vá»i! KhÃ´ng tÃ¬m tháº¥y ná»™i dung trÃ¹ng láº·p.</h2>
                 </div>
                 <p>VÄƒn báº£n nÃ y cÃ³ váº» lÃ  duy nháº¥t trÃªn Google táº¡i thá»i Ä‘iá»ƒm kiá»ƒm tra.</p>
            </div>
        {% endif %}
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>